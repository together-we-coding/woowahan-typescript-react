# \[TypeScript] μ•°λΉ„μ–ΈνΈ νƒ€μ…(ambient type) μ •λ¦¬

νƒ€μ…μ¤ν¬λ¦½νΈλ¥Ό μ‚¬μ©ν•λ‹¤ λ³΄λ©΄ μ™Έλ¶€ μλ°”μ¤ν¬λ¦½νΈ λΌμ΄λΈλ¬λ¦¬λ‚ νμΌμ„ λ‹¤λ£° λ• μ—λ¬κ°€ λ°μƒν•λ” κ²½μ°κ°€ λ§μµλ‹λ‹¤. μ΄λ΄ λ• μ μ©ν•κ² μ‚¬μ©ν•  μ μλ” κΈ°λ¥μ΄ λ°”λ΅ **μ•°λΉ„μ–ΈνΈ νƒ€μ…(ambient type)** μ„ μ–Έμ…λ‹λ‹¤. μ΄ κΈ€μ—μ„λ” μ•°λΉ„μ–ΈνΈ νƒ€μ…μ΄ λ¬΄μ—‡μΈμ§€, μ–΄λ–¤ μƒν™©μ—μ„ μ‚¬μ©ν•λ”μ§€, μ£Όμν•  μ μ€ λ¬΄μ—‡μΈμ§€ ν•λ‚ν•λ‚ μ§μ–΄λ³΄κ² μµλ‹λ‹¤.

---

## β… μ•°λΉ„μ–ΈνΈ νƒ€μ…μ΄λ€?

> **ambient**λ” μ‚¬μ „μ μΌλ΅ "μ£Όλ³€μ"λΌλ” μλ―Έλ¥Ό κ°–κ³  μμµλ‹λ‹¤. μ¦‰, νƒ€μ…μ¤ν¬λ¦½νΈ μ½”λ“ μ™Έλ¶€μ— μ΄λ―Έ μ΅΄μ¬ν•μ§€λ§, νƒ€μ…μ¤ν¬λ¦½νΈλ” κ·Έ μ΅΄μ¬λ¥Ό μ•μ§€ λ»ν•λ” λ€μƒμ— λ€ν• νƒ€μ… μ •λ³΄λ¥Ό μ„ μ–Έν•λ” λ°©μ‹μ…λ‹λ‹¤.

μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έμ€ `.d.ts` ν™•μ¥μλ¥Ό κ°€μ§„ νμΌμ—μ„ `declare` ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄ μ‘μ„±ν•©λ‹λ‹¤.

```ts
declare const VERSION: string;
```

- `declare`λ” \*\*β€μ–΄λ””μ„ κ°€ μ΄ κ°’μ΄ μ΅΄μ¬ν•΄β€\*\*λΌκ³  νƒ€μ…μ¤ν¬λ¦½νΈμ—κ² μ•λ ¤μ£Όλ” μ—­ν• μ„ ν•©λ‹λ‹¤.
- μ‹¤μ λ΅ κ°’μ„ μ •μν•μ§€ μ•κ³  νƒ€μ…λ§ μ„ μ–Έν•©λ‹λ‹¤.

---

## π—‚οΈ μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έ νμΌ κµ¬μ΅°

### β… .d.ts νμΌ

μ•°λΉ„μ–ΈνΈ νƒ€μ…μ€ μΌλ°μ μΌλ΅ `.d.ts` νμΌμ—μ„ μ„ μ–Έν•©λ‹λ‹¤. μ΄ νμΌμ€ νƒ€μ… μ •μ μ „μ©μ΄λ©°, κ°’μ„ ν¬ν•¨ν•  μ μ—†μµλ‹λ‹¤.

#### μμ‹:

```ts
// src/types/images.d.ts
declare module "*.png" {
  const src: string;
  export default src;
}
```

μ΄λ ‡κ² μ„ μ–Έν•λ©΄ PNG νμΌμ„ importν•  μ μμµλ‹λ‹¤:

```ts
import logo from "./logo.png";
```

---

## π› οΈ μ•°λΉ„μ–ΈνΈ νƒ€μ… ν™μ© μμ 

### 1. μ „μ—­ κ°μ²΄(Window λ“±)μ— νƒ€μ… μ¶”κ°€

μ•±μ—μ„ WebViewλ‚ λ„¤μ΄ν‹°λΈ μ•±κ³Ό ν†µμ‹ ν•  λ• μ „μ—­ κ°μ²΄μ— λ³€μκ°€ μ£Όμ…λλ” κ²½μ°κ°€ μμµλ‹λ‹¤. μ΄λ• νƒ€μ…μ¤ν¬λ¦½νΈμ— ν•΄λ‹Ή λ³€μλ¥Ό μΈμ‹μ‹ν‚¤κΈ° μ„ν•΄ λ‹¤μκ³Ό κ°™μ΄ μ‘μ„±ν•©λ‹λ‹¤.

```ts
// src/types/global.d.ts
declare global {
  interface Window {
    deviceId?: string;
    appVersion: string;
  }
}
```

---

### 2. μ „μ—­ μ ν‹Έλ¦¬ν‹° νƒ€μ… μ„ μ–Έ

κ³µν†µμ μΌλ΅ λ§μ΄ μ“°μ΄λ” μ ν‹Έλ¦¬ν‹° νƒ€μ…μ„ μ „μ—­μΌλ΅ μ„ μ–Έν•λ©΄ μ–΄λ–¤ νμΌμ—μ„λ„ import μ—†μ΄ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

```ts
// src/types/utils.d.ts
type Optional<T extends object, K extends keyof T = keyof T> = Omit<T, K> & Partial<Pick<T, K>>;
```

**μ‚¬μ© μ:**

```ts
type Props = { name: string; age: number };
type OptionalProps = Optional<Props>;
```

---

### 3. μ „μ—­ λ³€μ μ„ μ–Έκ³Ό λ²λ“¤λ¬ μ—°λ™

μλ¥Ό λ“¤μ–΄, λ²λ“¤λ¬(Webpack λ“±)μ—μ„ νΉμ • μƒμλ¥Ό μ „μ—­ λ³€μλ΅ μ£Όμ…ν•  μ μμµλ‹λ‹¤. μ΄μ— λ€ν• νƒ€μ… μ„ μ–Έμ€ λ‹¤μκ³Ό κ°™μ΄ ν•  μ μμµλ‹λ‹¤.

```ts
// src/types/theme.d.ts
declare global {
  const _color: {
    white: "#ffffff";
    black: "#000000";
  };
}
```

μ΄μ  μ½”λ“μ—μ„ `_color.white`μ²λΌ μ‚¬μ©ν•  μ μκ³ , μλ™μ™„μ„±λ„ μ§€μ›λ©λ‹λ‹¤.

---

### 4. ν™κ²½λ³€μ νƒ€μ… μ„ μ–Έ (Node.js)

`.env` νμΌμ— μ„ μ–Έλ κ°’λ„ νƒ€μ…μ„ μ§€μ •ν•λ©΄ μλ™μ™„μ„±κ³Ό νƒ€μ… κ²€μ‚¬λ¥Ό λ°›μ„ μ μμµλ‹λ‹¤.

```ts
// src/types/env.d.ts
declare namespace NodeJS {
  interface ProcessEnv {
    readonly API_URL: string;
    readonly MODE: "development" | "production";
  }
}
```

---

### 5. μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬ λ¨λ“ ν™•μ¥

μλ¥Ό λ“¤μ–΄ styled-componentsμ theme νƒ€μ…μ„ ν™•μ¥ν•  μ μμµλ‹λ‹¤.

```ts
// src/styles/styled.d.ts
import "styled-components";

declare module "styled-components" {
  interface DefaultTheme {
    colors: {
      primary: string;
      secondary: string;
    };
  }
}
```

---

## β οΈ μ•°λΉ„μ–ΈνΈ νƒ€μ… μ„ μ–Έ μ‹ μ£Όμμ‚¬ν•­

1. **.ts νμΌμ— declareλ¥Ό μ§μ ‘ μ‘μ„±ν•μ§€ λ§ κ²ƒ**

```ts
// β μΆ‹μ§€ μ•μ€ μ

declare global {
  interface Window {
    Example: string;
  }
}
```

- μ΄λ ‡κ² `.ts` νμΌ μ•μ— μ§μ ‘ μ„ μ–Έν•λ©΄ μ•°λΉ„μ–ΈνΈ νƒ€μ…μ μ„μΉλ¥Ό μ¶”μ ν•κΈ° μ–΄λ µκ³ , μ μ§€λ³΄μκ°€ μ–΄λ µμµλ‹λ‹¤.
- β΅οΈ κ°€λ¥ν•λ©΄ `.d.ts` νμΌμ— λ”°λ΅ μ •μν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.

2. **μ „μ—­ λ„¤μ„μ¤νμ΄μ¤ μ¶©λ μ£Όμ**

- λ‹¤μμ λΌμ΄λΈλ¬λ¦¬μ—μ„ λ™μΌν• μ „μ—­ λ„¤μ„μ¤νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κ²½μ° νƒ€μ… μ¶©λμ΄ λ°μƒν•  μ μμµλ‹λ‹¤.
- λ°λ“μ‹ λ„¤μ΄λ° μ¶©λμ„ λ°©μ§€ν•  μ μλ„λ΅ μ‹ μ¤‘ν•κ² μ‘μ„±ν•μ„Έμ”.

---

## β… μ”μ•½ μ •λ¦¬

| ν•­λ©             | μ„¤λ…                                                            |
| ---------------- | --------------------------------------------------------------- |
| `declare` ν‚¤μ›λ“ | νƒ€μ…μ¤ν¬λ¦½νΈμ— μ™Έλ¶€ κ°’μ΄ μ΅΄μ¬ν•¨μ„ μ•λ¦Ό                          |
| `.d.ts` νμΌ     | νƒ€μ… μ„ μ–Έ μ „μ© νμΌ, κ°’μ€ ν¬ν•¨ λ¶κ°€                             |
| μ‚¬μ© μμ‹        | μ΄λ―Έμ§€ νμΌ import, μ „μ—­ λ³€μ, ν™κ²½λ³€μ, μ ν‹Έλ¦¬ν‹° νƒ€μ… λ“±       |
| μ£Όμμ‚¬ν•­         | .ts λ‚΄λ¶€ declare μ§€μ–‘, λ„¤μ„μ¤νμ΄μ¤ μ¶©λ μ£Όμ                   |
| μ¥μ              | μ™Έλ¶€ λ¦¬μ†μ¤λ¥Ό νƒ€μ…μ¤ν¬λ¦½νΈμ— ν†µν•©, μλ™μ™„μ„± λ° νƒ€μ… μ•μ •μ„± ν™•λ³΄ |
